{% load static %}
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Каталог кофе</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-VH1L6a79+F+Hn7pA3n19vH0Wc4oHf4jxeTlx8j3Hi4J+3pkyQgOtJ4N6aUpzwrWu"
          crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"/>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header__inner">
                <a class="logo" href="{% url 'product_list' %}">LOGO</a>
                <nav class="nav">
                    <a class="nav__link active" href="{% url 'product_list' %}">Кофе</a>
                </nav>
                <div class="header__actions">
                    <a href="{% url 'favorites:favorite_list' %}" class="action-btn">
                        <img src="{% static 'img/heart.png' %}" alt="Избранное">
                    </a>
                    <a href="{% url 'cart:cart_detail' %}" class="action-btn">
                        <img src="{% static 'img/cart.png' %}" alt="Корзина">
                    </a>
                    <a href="{% url 'userprofile:profile' %}" class="action-btn">
                        <img src="{% static 'img/user.png' %}" alt="Профиль">
                    </a>
                </div>
            </div>
        </div>
    </header>

    {% block content %}
    <div class="container py-4">
    <div class="row">
        <div class="col-md-5">
        {% if product.image %}
            <img class="img-fluid rounded" src="{{ product.image.url }}" alt="{{ product.name }}">
        {% else %}
            <img class="img-fluid rounded" src="{% static 'img/coffee0.jpg' %}" alt="{{ product.name }}">
        {% endif %}
        </div>
        <div class="col-md-7">
        <h1>{{ product.name }}</h1>

        {% load star_extras %}

        {% if product.rating_avg %}
        {% for _ in "12345" %}
            <i class="{% star_class product.rating_avg forloop.counter %} text-warning"></i>
        {% endfor %}
        <small class="text-muted">({{ product.rating_count }})</small>
        {% endif %}

        <p class="lead fw-bold mb-3">{{ product.price }} ₽</p>

        <!-- Кнопки "В корзину" и "В избранное" у вас уже есть -->
        </div>
    </div>

    <!-- Табы -->
    <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <button class="nav-link active"
                    data-bs-toggle="tab"
                    data-bs-target="#description"
                    type="button" role="tab">Описание</button>
        </li>
        <li class="nav-item">
            <button class="nav-link"
                    data-bs-toggle="tab"
                    data-bs-target="#reviews"
                    type="button" role="tab">Отзывы</button>
        </li>
        <li class="nav-item">
            <button class="nav-link"
                    data-bs-toggle="tab"
                    data-bs-target="#questions"
                    type="button" role="tab">Вопросы</button>
        </li>
    </ul>


    <div class="tab-content pt-3">
        <div id="description" class="tab-pane fade show active" role="tabpanel">
            {{ product.description|linebreaks }}
        </div>

        <div id="reviews" class="tab-pane fade" role="tabpanel"
            hx-target="this" hx-swap="outerHTML">
            {% include "reviews/_reviews.html" %}
        </div>

        <div id="questions" class="tab-pane fade" role="tabpanel"
            hx-target="this" hx-swap="outerHTML">
            {% include "reviews/_questions.html" %}
        </div>
    </div>
    </div>
    {% endblock %}

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__inner">
                <div class="footer__col">
                    <div class="footer-logo">LOGO</div>
                    <div class="social-links">
                        <a href="#"><img src="{% static 'img/send.png' %}" alt="VK"></a>
                        <a href="#"><img src="{% static 'img/insta.png' %}" alt="Instagram"></a>
                        <a href="#"><img src="{% static 'img/mail.png' %}" alt="Telegram"></a>
                    </div>
                </div>
                <div class="footer__col">
                    <h4 class="footer-title">Контакты</h4>
                    <p>email@example.com</p>
                    <p>+7 (123) 456-78-90</p>
                </div>
                <div class="footer__col">
                    <h4 class="footer-title">О компании</h4>
                    <p>О нас</p>
                    <p>История</p>
                </div>
                <div class="footer__col">
                    <h4 class="footer-title">Помощь</h4>
                    <p>Доставка</p>
                    <p>Оплата</p>
                </div>
            </div>
        </div>
    </footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
</body>
</html>